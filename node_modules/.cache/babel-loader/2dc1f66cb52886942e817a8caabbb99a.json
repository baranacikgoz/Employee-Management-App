{"ast":null,"code":"import _regeneratorRuntime from\"/home/baran/Software/Completed Works/Employee-Management-App/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/baran/Software/Completed Works/Employee-Management-App/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/home/baran/Software/Completed Works/Employee-Management-App/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/baran/Software/Completed Works/Employee-Management-App/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _createSuper from\"/home/baran/Software/Completed Works/Employee-Management-App/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import _inherits from\"/home/baran/Software/Completed Works/Employee-Management-App/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from\"react\";import{Container,Card,Row}from\"react-bootstrap\";import UserConsumer from\"../context\";import axios from\"axios\";import{Link}from\"react-router-dom\";var UpdateUser=/*#__PURE__*/function(_Component){_inherits(UpdateUser,_Component);var _super=_createSuper(UpdateUser);function UpdateUser(){var _this;_classCallCheck(this,UpdateUser);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={name:\"\",jobTitle:\"\",salary:\"\"};_this.componentDidMount=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var id,response,_response$data,name,jobTitle,salary;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:id=_this.props.match.params.id;console.log(id);_context.next=4;return axios.get(\"https://infinite-escarpment-57092.herokuapp.com/users/\".concat(id));case 4:response=_context.sent;_response$data=response.data,name=_response$data.name,jobTitle=_response$data.jobTitle,salary=_response$data.salary;_this.setState({name:name,jobTitle:jobTitle,salary:salary});case 7:case\"end\":return _context.stop();}}},_callee);}));_this.updateUser=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(dispatch,e){var id,_this$state,name,jobTitle,salary,updatedUser,response;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:e.preventDefault();id=_this.props.match.params.id;_this$state=_this.state,name=_this$state.name,jobTitle=_this$state.jobTitle,salary=_this$state.salary;updatedUser={name:name,salary:salary,jobTitle:jobTitle};console.log(updatedUser);_context2.next=7;return axios.put(\"https://infinite-escarpment-57092.herokuapp.com/users/\".concat(id),updatedUser);case 7:response=_context2.sent;dispatch({type:\"UPDATE_USER\",payload:response.data});case 9:case\"end\":return _context2.stop();}}},_callee2);}));return function(_x,_x2){return _ref2.apply(this,arguments);};}();_this.addName=function(e){_this.setState({name:e.target.value});};_this.addJob=function(e){_this.setState({jobTitle:e.target.value});};_this.addSalary=function(e){_this.setState({salary:e.target.value});};return _this;}_createClass(UpdateUser,[{key:\"render\",value:function render(){var _this2=this;return/*#__PURE__*/React.createElement(UserConsumer,null,function(value){return/*#__PURE__*/React.createElement(Container,{className:\"col-md-4\",style:{paddingTop:\"70px\"}},/*#__PURE__*/React.createElement(Card,{className:\"text-center\"},/*#__PURE__*/React.createElement(Card.Header,{id:\"header\"},/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-9 text-center\"},/*#__PURE__*/React.createElement(Card.Text,{as:\"h4\"},\"Update User form\")),/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-2\"})))),/*#__PURE__*/React.createElement(Card.Body,null,/*#__PURE__*/React.createElement(\"form\",{onSubmit:_this2.updateUser.bind(_this2,value.dispatch)},/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"name\"},\"Name:\"),/*#__PURE__*/React.createElement(\"input\",{value:_this2.state.name,onChange:_this2.addName,type:\"text\",className:\"form-control\",id:\"name\",\"aria-describedby\":\"emailHelp\"})),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"jobTitle\"},\"Job:\"),/*#__PURE__*/React.createElement(\"input\",{value:_this2.state.jobTitle,onChange:_this2.addJob,type:\"text\",className:\"form-control\",id:\"jobTitle\"})),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"salary\"},\"Salary:\"),/*#__PURE__*/React.createElement(\"input\",{value:_this2.state.salary,onChange:_this2.addSalary,type:\"number\",className:\"form-control\",id:\"salary\"})),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"button\",{type:\"submit\",className:\"btn btn-primary mr-2\"},\"Save\"),/*#__PURE__*/React.createElement(Link,{className:\"btn btn-success ml-2\",href:\"/users\"},\"Go back\"))))));});}}]);return UpdateUser;}(Component);export default UpdateUser;/*\n\n<form onSubmit={this.updateUser.bind(this, value.dispatch)}>\n  <div class=\"form-group\">\n    <label for=\"name\">Name:</label>\n    <input value={this.state.name}\n                        onChange={this.addName} type=\"text\" class=\"form-control\" id=\"name\" aria-describedby=\"emailHelp\">\n  </div>\n  <div class=\"form-group\">\n    <label for=\"jobTitle\">Job:</label>\n    <input value={this.state.jobTitle}\n                        onChange={this.addJob} type=\"text\" class=\"form-control\" id=\"jobTitle\">\n  </div>\n  <div class=\"form-group\">\n    <label for=\"salary\">Salary:</label>\n    <input value={this.state.salary}\n                        onChange={this.addSalary type=\"number\" class=\"form-control\" id=\"salary\">\n  </div>\n  <button type=\"submit\" class=\"btn btn-primary\">Submit</button>\n</form>\n*/","map":{"version":3,"sources":["/home/baran/Software/Completed Works/Employee-Management-App/src/pages/UpdateUser.js"],"names":["React","Component","Container","Card","Row","UserConsumer","axios","Link","UpdateUser","state","name","jobTitle","salary","componentDidMount","id","props","match","params","console","log","get","response","data","setState","updateUser","dispatch","e","preventDefault","updatedUser","put","type","payload","addName","target","value","addJob","addSalary","paddingTop","bind"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { Container, Card, Row } from \"react-bootstrap\";\nimport UserConsumer from \"../context\";\nimport axios from \"axios\";\nimport {Link} from \"react-router-dom\"\n\nclass UpdateUser extends Component {\n  state = {\n    name: \"\",\n    jobTitle: \"\",\n    salary: \"\",\n  };\n\n  componentDidMount = async () => {\n    const { id } = this.props.match.params;\n    console.log(id);\n\n    const response = await axios.get(`https://infinite-escarpment-57092.herokuapp.com/users/${id}`);\n    const { name, jobTitle, salary } = response.data;\n    this.setState({\n      name,\n      jobTitle,\n      salary,\n    });\n  };\n\n  updateUser = async (dispatch, e) => {\n    e.preventDefault();\n    const { id } = this.props.match.params;\n    const { name, jobTitle, salary } = this.state;\n    const updatedUser = {\n      name,\n      salary,\n      jobTitle,\n    };\n    console.log(updatedUser);\n    const response = await axios.put(\n      `https://infinite-escarpment-57092.herokuapp.com/users/${id}`,\n      updatedUser\n    );\n\n    dispatch({ type: \"UPDATE_USER\", payload: response.data });\n  };\n  addName = (e) => {\n    this.setState({ name: e.target.value });\n  };\n  addJob = (e) => {\n    this.setState({ jobTitle: e.target.value });\n  };\n  addSalary = (e) => {\n    this.setState({ salary: e.target.value });\n  };\n\n  render() {\n    return (\n      <UserConsumer>\n        {(value) => {\n          return (\n            <Container className=\"col-md-4\" style={{paddingTop:\"70px\"}}>\n              <Card className=\"text-center\">\n                <Card.Header id=\"header\">\n                  <div>\n                    <Row>\n                      <div className=\"col-md-9 text-center\">\n                        <Card.Text as=\"h4\">Update User form</Card.Text>\n                      </div>\n                      <div className=\"col-md-2\"></div>\n                    </Row>\n                  </div>\n                </Card.Header>\n\n                <Card.Body>\n                  <form onSubmit={this.updateUser.bind(this, value.dispatch)}>\n                    <div className=\"form-group\">\n                      <label htmlFor=\"name\">Name:</label>\n                      <input\n                        value={this.state.name}\n                        onChange={this.addName}\n                        type=\"text\"\n                        className=\"form-control\"\n                        id=\"name\"\n                        aria-describedby=\"emailHelp\"\n                      />\n                    </div>\n                    <div className=\"form-group\">\n                      <label htmlFor=\"jobTitle\">Job:</label>\n                      <input\n                        value={this.state.jobTitle}\n                        onChange={this.addJob}\n                        type=\"text\"\n                        className=\"form-control\"\n                        id=\"jobTitle\"\n                      />\n                    </div>\n                    <div className=\"form-group\">\n                      <label htmlFor=\"salary\">Salary:</label>\n                      <input\n                        value={this.state.salary}\n                        onChange={this.addSalary}\n                        type=\"number\"\n                        className=\"form-control\"\n                        id=\"salary\"\n                      />\n                    </div>\n                    <div>\n                      <button type=\"submit\" className=\"btn btn-primary mr-2\">\n                        Save\n                      </button>\n\n                      <Link className=\"btn btn-success ml-2\" href=\"/users\">\n                        Go back\n                      </Link>\n                    </div>\n                  </form>\n                </Card.Body>\n              </Card>\n            </Container>\n          );\n        }}\n      </UserConsumer>\n    );\n  }\n}\nexport default UpdateUser;\n\n/*\n\n<form onSubmit={this.updateUser.bind(this, value.dispatch)}>\n  <div class=\"form-group\">\n    <label for=\"name\">Name:</label>\n    <input value={this.state.name}\n                        onChange={this.addName} type=\"text\" class=\"form-control\" id=\"name\" aria-describedby=\"emailHelp\">\n  </div>\n  <div class=\"form-group\">\n    <label for=\"jobTitle\">Job:</label>\n    <input value={this.state.jobTitle}\n                        onChange={this.addJob} type=\"text\" class=\"form-control\" id=\"jobTitle\">\n  </div>\n  <div class=\"form-group\">\n    <label for=\"salary\">Salary:</label>\n    <input value={this.state.salary}\n                        onChange={this.addSalary type=\"number\" class=\"form-control\" id=\"salary\">\n  </div>\n  <button type=\"submit\" class=\"btn btn-primary\">Submit</button>\n</form>\n*/\n"]},"metadata":{},"sourceType":"module"}